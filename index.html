<html>
<head>
    <style>

        body {
            overflow: hidden;
            height: 500px;
        }

        #background {
            height: 500px;
        }
        #background div{
            border-radius: 50%;
            position: absolute;
        }
    </style>
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<body>
<div id="background"></div>
</body>
<script>

    function Particles() {
        this.colors = [
            '#ff0025',
            '#ffaa3c',
            '#83fe2d',
        ];

        this.minRadius = 10;
        this.maxRadius = 50;

        this.minOpacity = .05;
        this.maxOpacity = .4;

        this.minSpeed = .005;
        this.maxSpeed = .01;

        this.numParticles = 25;
    }

    Particles.prototype._rand = function (min, max) {
        return Math.random() * (max - min) + min;
    };

    Particles.prototype.createParticles = function () {



        for(var i=0; i<this.numParticles; i++) {

            var one = document.createElement('div');

            var radius = this._rand(this.minRadius, this.maxRadius);
            var opacity = this._rand(this.minOpacity, this.maxOpacity);
            var startLocLeft = this._rand(0, screen.width);
            var startLocTop = this._rand(0, screen.height);
            var endLocLeft = this._rand(0, screen.width);
            var endLocTop = this._rand(0, screen.height);
            var speed = this._rand(this.minSpeed, this.maxSpeed);
            var color = this._rand(0,3);

            document.getElementById("background").appendChild(one);

            one.setAttribute("style", "height: " + radius + "; width: " + radius + "; opacity: " + opacity +
                "; left: " + startLocLeft + "; top: " + startLocTop + "; background-color: " +
                this.colors[Math.floor(color)]);

            this.animateParticle(one);
        }


    };

    Particles.prototype.makeNewPosition = function (){

        var h = $(window).height() - 50;
        var w = $(window).width() - 50;

        var nh = Math.floor(Math.random() * h);
        var nw = Math.floor(Math.random() * w);

        return [nh,nw];

    };
    
    Particles.prototype.animateParticle = function (one) {
        var newq = this.makeNewPosition();
        var oldq = $(one).offset();
        var speed = this.calcSpeed([oldq.top, oldq.left], newq);
        var that = this;

        $(one).animate({ top: newq[0], left: newq[1] }, speed, function () {
            that.animateParticle(one);
        });
    };

    Particles.prototype.calcSpeed = function (prev, next) {
        var x = Math.abs(prev[1] - next[1]);
        var y = Math.abs(prev[0] - next[0]);

        var greatest = x > y ? x : y;

        var speedModifier = this._rand(this.minSpeed, this.maxSpeed);

        var speed = Math.ceil(greatest/speedModifier);

        return speed;
    };


    var particle = new Particles();
    particle.createParticles();

</script>
</head>

</html>
